Select nc.TABLE_SCHEMA, nc.TABLE_NAME, nc.COLUMN_NAME, nc.ORDINAL_POSITION, nc.IS_NULLABLE, IIF(nc.IS_NULLABLE <> oc.IS_NULLABLE, 'Yes', 'No'),        IIF(oc.COLUMN_NAME IS NULL, convert(varchar(20), 'ADDED COLUMN'), convert(varchar(20), '--')) as Comment    from {NEW}.INFORMATION_SCHEMA.COLUMNS nc        LEFT join {OLD}.INFORMATION_SCHEMA.COLUMNS oc            on nc.TABLE_NAME = oc.TABLE_NAME and nc.COLUMN_NAME = oc.COLUMN_NAME

UNION ALL    Select oc.TABLE_SCHEMA, oc.TABLE_NAME, oc.COLUMN_NAME, oc.ORDINAL_POSITION, oc.IS_NULLABLE, 'No', 'DELETED COLUMN' as Comment    from {OLD}.INFORMATION_SCHEMA.COLUMNS oc    where CONCAT(oc.TABLE_NAME, '.', oc.COLUMN_NAME)        not in (Select CONCAT(TABLE_NAME, '.', COLUMN_NAME) from {NEW}.INFORMATION_SCHEMA.COLUMNS);
